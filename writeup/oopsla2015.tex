\documentclass[nocopyrightspace,preprint,10pt]{sigplanconf}

% OOPSLA Setup {-{

% % \usepackage{SIunits}            % typset units correctly
% \usepackage{courier}            % standard fixed width font
% \usepackage[scaled]{helvet} % see www.ctan.org/get/macros/latex/required/psnfss/psnfss2e.pdf
% \usepackage{url}                  % format URLs
% \usepackage{listings}          % format code
% \usepackage{enumitem}      % adjust spacing in enums
% \usepackage{amsmath}
% \usepackage[colorlinks=true,allcolors=blue,breaklinks,draft=false]{hyperref}   % hyperlinks, including DOIs and URLs in bibliography
% % known bug: http://tex.stackexchange.com/questions/1522/pdfendlink-ended-up-in-different-nesting-level-than-pdfstartlink
% \newcommand{\doi}[1]{doi:~\href{http://dx.doi.org/#1}{\Hurl{#1}}}   % print a hyperlinked DOI

% }-}

% Setup {-{

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{stmaryrd}
\usepackage{galois}
\usepackage{float}
\usepackage{latexsym}
\usepackage{balance}
\usepackage{array}
\usepackage{tikz}
\usepackage{etoolbox}
\usetikzlibrary{matrix}
\floatstyle{boxed}
\restylefloat{figure}
\usepackage[font=small,skip=0pt]{caption}

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}

% This makes newlines not introduce paragraphs.
% Paragraphs must be explicitly marked with \par
% WHAT WIZARDRY IS THIS
\endlinechar=9\relax

% }-}

% Macros {-{

\newcommand\litM{M}
\newcommand\litTime{Time}
\newcommand\litStore{Store}
\newcommand\litVal{Val}
\newcommand\litKAddr{KAddr}
\newcommand\litKStore{KStore}
\newcommand\litEnv{Env}
\newcommand\litClo{Clo}
\newcommand\litelse{else}

\newcommand{\itop}[1]{\operatorname{\mathit{#1}}}
\newcommand{\ttop}[1]{\operatorname{\mathtt{#1}}}
\newcommand{\ttbfop}[1]{\ttop{\boldsymbol{\mathbf{#1}}}}
\newcommand{\ttbfbin}[1]{\mathbin{\mathtt{\mathbf{\boldsymbol{#1}}}}}
\newcommand{\keyword}[1]{\underline{\ttbfop{#1}}}
\newcommand{\keywordop}[1]{\ttbfbin{#1}}
\newcommand{\Concrete}[1]{\mathtt{\mathbf{#1}}}
\newcommand{\Abstract}[1]{\widehat{\mathtt{\mathbf{#1}}}}

% }-}

\begin{document}

% OOPSLA Prelude {-{ 

\special{papersize=8.5in,11in}
\setlength{\pdfpageheight}{\paperheight}
\setlength{\pdfpagewidth}{\paperwidth}


% \conferenceinfo{CONF 'yy}{Month d--d, 20yy, City, ST, Country} 
% \copyrightyear{20yy} 
% \copyrightdata{978-1-nnnn-nnnn-n/yy/mm} 
\doi{nnnnnnn.nnnnnnn}

% -- I'm not sure which one of these we use (or none?)... -DCD
%
% Uncomment one of the following two, if you are not going for the 
% traditional copyright transfer agreement.

%\exclusivelicense                % ACM gets exclusive license to publish, 
                                  % you retain copyright

%\permissiontopublish             % ACM gets nonexclusive license to publish
                                  % (paid open-access papers, 
                                  % short abstracts)

\titlebanner{Preprint}             % These are ignored unless
% \preprintfooter{preprint footer}   % 'preprint' option specified.

% }-}

% These make align* have smaller breaks around it. -DCD
\newcommand{\zerodisplayskips}{%
  \setlength{\abovedisplayskip}{4pt}
  \setlength{\belowdisplayskip}{4pt}
  \setlength{\abovedisplayshortskip}{0pt}
  \setlength{\belowdisplayshortskip}{0pt}}
% \appto{\normalsize}{\zerodisplayskips}
\appto{\small}{\zerodisplayskips}

% This makes floats have less space between them and text.
\setlength{\textfloatsep}{8pt}

\title{Galois Transformers and Modular Abstract Interpreters}
\subtitle{Reusable Metatheory for Program Analysis}
% \authorinfo{David Darais}{University of Maryland, USA}{darais@cs.umd.edu}
% \authorinfo{Matthew Might}{University of Utah, USA}{might@cs.utah.edu}
% \authorinfo{David Van Horn}{University of Maryland, USA}{dvanhorn@cs.umd.edu}
\authorinfo{}{}{}
\maketitle

% Abstract {-{
\begin{abstract}

The design and implementation of static analyzers have becoming
increasingly systematic.  Yet for a given language or analysis
feature, it often requires tedious and error prone work to implement
an analyzer and prove it sound.
%
In short, static analysis features and their proofs of soundness do
not compose well, causing a dearth of reuse in both implementation and
metatheory.

\par 

We solve the problem of systematically constructing static analyzers by
introducing \emph{Galois transformers}: monad transformers that
transports Galois connection properties.  In concert with a monadic
interpreter, we define a library of monad transformers that
implement building blocks for classic analysis parameters like context, path,
and heap (in)sensitivity. Moreover, these can be composed together 
% to realize a program analysis monad, 
\emph{independent of the language being analyzed}.

\par 

Significantly, a Galois transformer can be proved sound once and for all,
making it a reusable analysis component.  As new analysis features and
abstractions are developed and mixed in, soundness proofs need not be
reconstructed, as the composition of a monad transformer stack is sound by
virtue of its constituents.  Galois transformers provide a viable foundation
for reusable and composable metatheory for program analysis.

\par 

Finally, these Galois transformers shift the level of abstraction in analysis
design and implementation to a level where non-specialists have the ability to
synthesize sound analyzers over a number of parameters.

\end{abstract}
% }-}


% \category{CR-number}{subcategory}{third-level}
% \terms term1, term2
% \keywords keyword1, keyword2

\input{tmp/autogen/paper.markdown.tex}

% \appendix
% \section{Appendix Title}
% 
% Appendix body.
% 
% \acks
% 
% Acknowledgments body.

\balance
\bibliographystyle{abbrvnat}
\bibliography{dvanhorn,davdar}

\appendix
\section{PLDI 2015 Summary review}

This paper was previously submitted to PLDI 2015. It advanced through
the first round with favorable reviews, but received a short negative
review in the second round stating ``this paper seems like a rather
straightforward and not very deep extension of the PLDI'13 paper on
monadic abstract interpreters.''

The summary review of the PC discussion stated:

\begin{quote}
There was extensive discussion of this paper at the PC meeting, with
arguments on both sides. From the perspective of the functional
programming experts, there is only a small increment from the previous
PLDI'13 paper---moving from monads to monad transformers is a
seemingly obvious step with little novelty. From the perspective of
the static analysis experts, the paper presents a very interesting
view on how to structure abstract interpreters that shows how to apply
existing work in the functional world to static analysis. Ultimately
we looked at the section on Galois transfomers (sic) as the point of
potential novelty from the functional perspective, and found that
there was too little there to convince people that Galois transformers
are a non-trivial variation of monad transformers. We encourage the
authors to continue this work and to try and clarify the novelty from
the functional perspective (or target the paper more closely to the
static analysis community). We also encourage the authors to work on
the exposition in the paper to make it more accessible.
\end{quote}

The present version of this paper has aimed to clarify the novelty of
this work and explain how, while the idea of ``going from monads to
monad transformers'' is in some sense an obvious idea, there is no way
to get there from the PLDI'13 paper of Sergey et al., without
significant research.  That research is the subject of this paper.

We have also incorporated all of the feedback toward making the paper
more accessible.

For completeness, we include our response to the claim ``this paper
seems like a rather straightforward and not very deep extension of the
PLDI'13 paper on monadic abstract interpreters.''  Much of this
content has been incorporated into the paper.

\begin{quote}
We respectfully disagree with this assessment of the paper. Let us clarify the
relationship with Sergey et al \cite{dvanhorn:Sergey2013Monadic} (PLDI'13).

The primary contributions of Sergey et al are:

\begin{itemize}
\item Monads can serve as a good organizational mechanism for constructing abstract
  interpreters.
\item Different monads can be used to describe a wide range of abstract
  interpreters.
\end{itemize}

In our view, shortcomings of Sergey et al are:

\begin{itemize}
\item No restrictions are placed on the monads used, allowing for
  absurd and unsound analyses.

\item There is no soundness framework for the approach. Instantiated
  analyses must be reasoned about on an ad-hoc basis after inlining
  the abstractions.

\item The monads are not compositional or reusable across languages as
  claimed in the paper.
\end{itemize}

Our paper remedies these shortcomings:

\begin{itemize}
\item Our interface between interpreters and monads is well-defined
  and based on language-independent monadic effects, allowing one to
  reason on both sides of the interface.

\item Our framework constructs end-to-end Galois connections for
  proofs of soundness.

\item Monads in our framework can be defined and proved correct
independently of a particular language.  Furthermore, constructing a
new large monad in our framework is a simple composition of the monad
transformers described in the paper.
\end{itemize}

In addition to these improvements, our paper has the following
desirable properties:

\begin{itemize}
\item In our framework, intentional analysis optimizations like abstract garbage
  collection and shape analysis can be defined and proven correct for all
  concrete and abstract interpreters at once (for a particular language).

\item Our framework fully compartmentalizes the choice of control sensitivity for the
  analysis.
\end{itemize}

Alternatively, our paper can be seen as an extension of Liang et al
\cite{dvanhorn:Liang1995Monad} applied to abstract interpreters rather
than standard interpreters. We believe this is a deep insight into the
theory of monad transformers and modular interpreters not present in
Sergey et al.
\end{quote}

\end{document}
